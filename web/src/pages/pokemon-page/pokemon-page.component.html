<div class="pokemon-header">
    <button class="btn btn-lg btn-default"
        [disabled]="custom$ | async"
        (click)="generateRandomPokemon()">
        True random
    </button>

    <mat-form-field>
        <mat-label>Number of PokÃ©mon</mat-label>
        <mat-select [formControl]="numberSelected">
            <ng-container *ngFor="let number of numbers">
                <mat-option [value]="number">{{number}}</mat-option>
            </ng-container>
        </mat-select>
    </mat-form-field>

    <button class="btn btn-lg btn-default" (click)="customize()">
        Customize
    </button>

    <ng-container *ngIf="custom$ | async" class="customize">

        <button class="btn btn-lg btn-default" 
            (click)="chooseCategory()">
            <i class="bi bi-shuffle"></i>
        </button>
        
        <div class="customize-selects" *ngIf="category$ | async as category">
            <mat-form-field *ngIf="category === 'generation'">
                <mat-label>Generation</mat-label>
                <mat-select [formControl]="genSelected">
                    <ng-container *ngFor="let number of numbers">
                        <mat-option [value]="number">{{number}}</mat-option>
                    </ng-container>
                </mat-select>
            </mat-form-field>
        
            <mat-form-field *ngIf="category === 'region'">
                <mat-label>Region</mat-label>
                <mat-select [formControl]="regionSelected">
                    <ng-container *ngFor="let number of numbers">
                        <mat-option [value]="number">{{number}}</mat-option>
                    </ng-container>
                </mat-select>
            </mat-form-field>
        
            <mat-form-field *ngIf="category === 'type'">
                <mat-label>Type</mat-label>
                <mat-select [formControl]="typeSelected">
                    <ng-container *ngFor="let number of numbers">
                        <mat-option [value]="number">{{number}}</mat-option>
                    </ng-container>
                </mat-select>
            </mat-form-field>
        
            <button 
                class="btn btn-lg btn-default" 
                (click)="generatePokemon()">
                Generate
            </button>
        </div>
    </ng-container>
</div>

<loading [status]="loadingStatus">
    <div class="pokemon-list">
        <ng-container *ngFor="let poke of pokemon">
            <pokemon-card [pokemon]="poke">
            </pokemon-card>
        </ng-container>
    </div>
</loading>
